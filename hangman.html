<!DOCTYPE html>
<html lang="ar" dir="rtl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù‡Ø§Ù†Ø¬ Ù…Ø§Ù† Ø§Ù„Ù…Ø®Ø·ÙˆØ· â€“ MaktabaPlay</title>
    <!-- Ø§Ù„Ø®Ø·ÙˆØ· -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;600;800&display=swap" rel="stylesheet">
    <!-- Ù…Ù„Ù Ø§Ù„ØªÙ†Ø³ÙŠÙ‚ Ø§Ù„Ù…ÙˆØ­Ø¯ (Ù†ÙØ³ Ø§Ù„Ø«ÙŠÙ… Ø§Ù„ØºØ§Ù…Ù‚) -->
    <style>
        :root {
            --bg: #0b0f17;
            --card-bg: #111827;
            --muted: #6b7280;
            --text: #e5e7eb;
            --brand: #22c55e;
            --brand-2: #06b6d4;
            --border: #1f2937;
            --danger: #ef4444;
            --success: #22c55e;
            --warning: #f59e0b;
            --accent: #a78bfa;

            --glass: rgba(255, 255, 255, 0.03);
            --glass-border: rgba(255, 255, 255, 0.06);
            --shadow: 0 10px 30px rgba(2, 6, 23, 0.6);
            --radius: 12px;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Tajawal', sans-serif;
            background: linear-gradient(180deg, #0b0f17, #0f172a);
            color: var(--text);
            line-height: 1.6;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        .navbar {
            position: sticky;
            top: 0;
            z-index: 50;
            backdrop-filter: blur(8px);
            background: rgba(11, 15, 23, 0.6);
            border-bottom: 1px solid var(--border);
        }

        .nav-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 12px 16px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            flex-wrap: wrap;
            gap: 12px;
        }

        .brand {
            display: flex;
            align-items: center;
            gap: 12px;
            font-weight: 800;
            font-size: 20px;
            color: white;
        }

        .brand-badge {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, var(--brand), var(--brand-2));
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #041014;
            font-weight: 800;
        }

        .nav-links {
            display: flex;
            gap: 20px;
            flex-wrap: wrap;
        }

        .nav-links a {
            color: var(--text);
            text-decoration: none;
            font-weight: 600;
            transition: 0.2s;
            padding: 5px 10px;
            border-radius: 20px;
        }

        .nav-links a:hover,
        .nav-links a.active {
            background: rgba(6, 182, 212, 0.1);
            color: var(--brand-2);
        }

        footer {
            background: linear-gradient(90deg, #0e1626, #0b1220);
            border-top: 1px solid var(--border);
            padding: 20px 0;
            margin-top: auto;
            text-align: center;
            color: var(--muted);
        }

        .footer-inner {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 20px;
        }

        footer a {
            color: var(--brand-2);
            text-decoration: none;
        }

        /* ===== ØªÙ†Ø³ÙŠÙ‚Ø§Øª Ù„Ø¹Ø¨Ø© Ù‡Ø§Ù†Ø¬ Ù…Ø§Ù† ===== */
        .hangman-container {
            max-width: 1300px;
            margin: 20px auto;
            padding: 20px;
            width: 100%;
            flex: 1;
        }

        .hangman-grid {
            display: grid;
            grid-template-columns: 280px 1fr;
            gap: 24px;
        }

        .hangman-sidebar {
            background: linear-gradient(180deg, #0e1626, #0b1220);
            border: 1px solid var(--border);
            border-radius: 24px;
            padding: 20px;
            height: fit-content;
        }

        .hangman-logo {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 1px solid var(--border);
        }

        .hangman-logo-icon {
            font-size: 40px;
        }

        .hangman-logo-text {
            font-size: 20px;
            font-weight: 800;
            color: white;
        }

        .hangman-nav {
            list-style: none;
        }

        .hangman-nav-item {
            padding: 14px 16px;
            margin-bottom: 8px;
            background: rgba(255, 255, 255, 0.02);
            border: 1px solid transparent;
            border-radius: 16px;
            color: var(--text);
            cursor: pointer;
            font-weight: 600;
            transition: 0.2s;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .hangman-nav-item:hover {
            background: rgba(6, 182, 212, 0.05);
            border-color: var(--brand-2);
        }

        .hangman-nav-item.active {
            background: rgba(6, 182, 212, 0.1);
            border-color: var(--brand-2);
            color: #a5f3fc;
        }

        .hangman-main {
            background: linear-gradient(180deg, #0e1626, #0b1220);
            border: 1px solid var(--border);
            border-radius: 24px;
            padding: 25px;
        }

        .hangman-section {
            display: none;
        }

        .hangman-section.active {
            display: block;
            animation: fadeIn 0.5s ease-out;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .hangman-stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .hangman-stat-card {
            background: #0b1220;
            border: 1px solid var(--border);
            border-radius: 20px;
            padding: 20px;
            text-align: center;
        }

        .hangman-stat-label {
            color: var(--muted);
            font-size: 13px;
            text-transform: uppercase;
            margin-bottom: 8px;
        }

        .hangman-stat-value {
            font-size: 36px;
            font-weight: 800;
            color: var(--brand-2);
            line-height: 1.2;
        }

        .hangman-pixel-art {
            font-family: 'Courier New', monospace;
            font-size: 18px;
            line-height: 1.3;
            color: var(--brand-2);
            text-align: center;
            background: #0b1220;
            border: 1px solid var(--border);
            border-radius: 16px;
            padding: 20px;
            white-space: pre;
            overflow-x: auto;
            margin-bottom: 20px;
            direction: ltr;
        }

        .hangman-word-display {
            font-size: 48px;
            font-weight: bold;
            letter-spacing: 15px;
            text-align: center;
            background: #0b1220;
            border: 1px solid var(--border);
            border-radius: 16px;
            padding: 20px;
            color: white;
            font-family: 'Courier New', monospace;
            margin-bottom: 20px;
        }

        .hangman-letters-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 10px;
            margin: 20px 0;
        }

        .hangman-letter-btn {
            padding: 14px;
            background: #0f1a2f;
            border: 1px solid var(--border);
            border-radius: 12px;
            color: var(--text);
            font-weight: 600;
            cursor: pointer;
            transition: 0.2s;
            font-size: 1.2rem;
            font-family: 'Tajawal', sans-serif;
        }

        .hangman-letter-btn:hover:not(:disabled) {
            background: rgba(6, 182, 212, 0.1);
            border-color: var(--brand-2);
            transform: translateY(-2px);
        }

        .hangman-letter-btn:disabled {
            opacity: 0.3;
            cursor: not-allowed;
        }

        .hangman-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }

        .hangman-table th {
            background: rgba(6, 182, 212, 0.1);
            border: 1px solid var(--border);
            padding: 12px;
            color: #a5f3fc;
            font-weight: 600;
            text-align: right;
        }

        .hangman-table td {
            border: 1px solid var(--border);
            padding: 10px;
            color: var(--text);
            text-align: right;
        }

        .hangman-form-group {
            margin-bottom: 20px;
        }

        .hangman-form-group label {
            display: block;
            margin-bottom: 8px;
            color: var(--text);
            font-weight: 600;
        }

        .hangman-form-group input,
        .hangman-form-group textarea,
        .hangman-form-group select {
            width: 100%;
            padding: 12px 16px;
            background: #0b1220;
            border: 1px solid var(--border);
            border-radius: 12px;
            color: white;
            font-family: 'Tajawal', sans-serif;
        }

        .hangman-form-group input:focus,
        .hangman-form-group textarea:focus,
        .hangman-form-group select:focus {
            outline: none;
            border-color: var(--brand-2);
        }

        .hangman-form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }

        .hangman-btn {
            padding: 12px 24px;
            border: none;
            border-radius: 40px;
            font-weight: 700;
            cursor: pointer;
            transition: 0.2s;
            font-family: 'Tajawal', sans-serif;
            font-size: 1rem;
            background: linear-gradient(135deg, var(--brand), var(--brand-2));
            color: #041014;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }

        .hangman-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 18px rgba(6, 182, 212, 0.3);
        }

        .hangman-btn-secondary {
            background: transparent;
            border: 1px solid var(--border);
            color: var(--text);
        }

        .hangman-btn-secondary:hover {
            background: rgba(255, 255, 255, 0.02);
        }

        .hangman-btn-danger {
            background: linear-gradient(135deg, var(--danger), #b91c1c);
            color: white;
        }

        .hangman-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.8);
            align-items: center;
            justify-content: center;
            z-index: 2000;
        }

        .hangman-modal.show {
            display: flex;
        }

        .hangman-modal-content {
            background: #0e1626;
            border: 1px solid var(--border);
            border-radius: 24px;
            padding: 30px;
            max-width: 500px;
            width: 90%;
        }

        .difficulty-badge {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 30px;
            font-size: 12px;
            font-weight: 600;
        }

        .difficulty.easy {
            background: rgba(34, 197, 94, 0.1);
            color: var(--success);
            border: 1px solid var(--success);
        }

        .difficulty.medium {
            background: rgba(245, 158, 11, 0.1);
            color: var(--warning);
            border: 1px solid var(--warning);
        }

        .difficulty.hard {
            background: rgba(239, 68, 68, 0.1);
            color: var(--danger);
            border: 1px solid var(--danger);
        }

        .content-section {
            background: #0b1220;
            border: 1px solid var(--border);
            border-radius: 16px;
            padding: 20px;
            margin-bottom: 20px;
        }

        .content-section h3 {
            color: var(--brand-2);
            margin-bottom: 12px;
        }

        .content-section p {
            color: var(--muted);
            line-height: 1.8;
            margin-bottom: 10px;
        }

        @media (max-width: 768px) {
            .hangman-grid {
                grid-template-columns: 1fr;
            }

            .hangman-letters-grid {
                grid-template-columns: repeat(5, 1fr);
            }

            .hangman-word-display {
                font-size: 32px;
                letter-spacing: 8px;
            }

            .hangman-form-row {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>

<body>
    <!-- Ø´Ø±ÙŠØ· Ø§Ù„ØªÙ†Ù‚Ù„ Ø§Ù„Ù…ÙˆØ­Ø¯ -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="brand">
                <div class="brand-badge">Ù…Ù€</div>
                <span>MaktabaPlay</span>
            </div>
            <div class="nav-links">
                <a href="index.html">Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©</a>
                <a href="hangman.html" class="active">Ù‡Ø§Ù†Ø¬ Ù…Ø§Ù† Ø§Ù„Ù…Ø®Ø·ÙˆØ·</a>
                <a href="ladder-classification.html">Ø§Ù„Ø³Ù„Ù… ÙˆØ§Ù„ØªØµÙ†ÙŠÙ</a>
                <a href="book-detective.html">Ù…Ø­Ù‚Ù‚ Ø§Ù„ÙƒØªØ¨</a>
                <a href="about.html">Ù…Ù† Ù†Ø­Ù†</a>
                <a href="contact.html">ØªÙˆØ§ØµÙ„</a>
                <a href="partners.html">Ø´Ø±ÙƒØ§Ø¡</a>
            </div>
        </div>
    </nav>

    <div class="hangman-container">
        <div class="hangman-grid">
            <!-- Ø§Ù„Ø´Ø±ÙŠØ· Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠ -->
            <div class="hangman-sidebar">
                <div class="hangman-logo">
                    <span class="hangman-logo-icon">ğŸ“š</span>
                    <span class="hangman-logo-text">Ø§Ù„Ù…Ø®Ø·ÙˆØ·Ø§Øª</span>
                </div>
                <ul class="hangman-nav">
                    <li class="hangman-nav-item active" data-page="dashboard"><span>ğŸ“Š</span> Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</li>
                    <li class="hangman-nav-item" data-page="game"><span>ğŸ®</span> Ù„Ø¹Ø¨Ø© Ø§Ù„ØªØ®Ù…ÙŠÙ†</li>
                    <li class="hangman-nav-item" data-page="questions"><span>â“</span> Ø¨Ù†Ùƒ Ø§Ù„Ø£Ø³Ø¦Ù„Ø©</li>
                    <li class="hangman-nav-item" data-page="addquestion"><span>â•</span> Ø¥Ø¶Ø§ÙØ© Ø³Ø¤Ø§Ù„</li>
                    <li class="hangman-nav-item" data-page="results"><span>ğŸ“ˆ</span> Ø§Ù„Ù†ØªØ§Ø¦Ø¬</li>
                    <li class="hangman-nav-item" data-page="content"><span>ğŸ“–</span> Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ù…Ø§Ø¯Ø©</li>
                </ul>
            </div>

            <!-- Ø§Ù„Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠ -->
            <div class="hangman-main">
                <!-- Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ… -->
                <div id="dashboard" class="hangman-section active">
                    <h2 style="color: white; margin-bottom: 20px;">ğŸ“Š Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…</h2>
                    <div class="hangman-stats-grid">
                        <div class="hangman-stat-card">
                            <div class="hangman-stat-label">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø£Ø³Ø¦Ù„Ø©</div>
                            <div class="hangman-stat-value" id="totalQuestions">0</div>
                        </div>
                        <div class="hangman-stat-card">
                            <div class="hangman-stat-label">Ø¬ÙˆÙ„Ø§Øª Ù„Ø¹Ø¨Øª</div>
                            <div class="hangman-stat-value" id="gamesPlayed">0</div>
                        </div>
                        <div class="hangman-stat-card">
                            <div class="hangman-stat-label">Ø¬ÙˆÙ„Ø§Øª Ø±Ø§Ø¨Ø­Ø©</div>
                            <div class="hangman-stat-value" id="gamesWon">0</div>
                        </div>
                        <div class="hangman-stat-card">
                            <div class="hangman-stat-label">Ù†Ø³Ø¨Ø© Ø§Ù„Ù†Ø¬Ø§Ø­</div>
                            <div class="hangman-stat-value" id="winRate">0%</div>
                        </div>
                    </div>
                    <div class="content-section">
                        <h3>ğŸ“– Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ù…Ø§Ø¯Ø©</h3>
                        <p>Ù…Ø§Ø¯Ø© Ø§Ù„Ù…Ø®Ø·ÙˆØ·Ø§Øª Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© ØªØ´Ù…Ù„ Ø§Ù„Ù…ÙØ§Ù‡ÙŠÙ… Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© ÙˆØ§Ù„ØªØ·ÙˆØ± Ø§Ù„ØªØ§Ø±ÙŠØ®ÙŠ ÙˆØ§Ù„Ø£Ø¯ÙˆØ§Øª ÙˆØ§Ù„Ù…ÙˆØ§Ø¯ ÙˆØ§Ù„ØªØ£Ù„ÙŠÙ
                            ÙˆØ§Ù„Ù†Ø³Ø® ÙˆØ§Ù„Ø±ÙˆØ§ÙŠØ© ÙˆØªØ­Ù‚ÙŠÙ‚ Ø§Ù„Ù…Ø®Ø·ÙˆØ·Ø§Øª ÙˆØ§Ù„ÙÙ‡Ø±Ø³Ø©.</p>
                        <button class="hangman-btn" data-page="content" style="margin-top: 15px;">Ø¹Ø±Ø¶ Ø§Ù„Ù…Ø­ØªÙˆÙ‰</button>
                    </div>
                </div>

                <!-- ØµÙØ­Ø© Ø§Ù„Ù„Ø¹Ø¨Ø© -->
                <div id="game" class="hangman-section">
                    <h2 style="color: white; margin-bottom: 20px;">ğŸ® Ù„Ø¹Ø¨Ø© ØªØ®Ù…ÙŠÙ† Ø§Ù„Ù…Ø®Ø·ÙˆØ·</h2>
                    <div class="hangman-pixel-art" id="drawing"></div>
                    <div class="hangman-word-display" id="word">_ _ _</div>
                    <div class="content-section" style="margin-bottom: 15px;">
                        <strong style="color: var(--brand-2);">Ø§Ù„ÙØ¦Ø©:</strong> <span id="gameCategory"
                            style="color: white;"></span>
                    </div>
                    <div style="display: flex; gap: 10px; margin-bottom: 20px;">
                        <div class="hangman-stat-card" style="flex:1;">
                            <div class="hangman-stat-label">Ù…Ø­Ø§ÙˆÙ„Ø§Øª Ù…ØªØ¨Ù‚ÙŠØ©</div>
                            <div class="hangman-stat-value" id="remaining">6</div>
                        </div>
                        <div class="hangman-stat-card" style="flex:1;">
                            <div class="hangman-stat-label">Ø§Ù„Ø£Ø®Ø·Ø§Ø¡</div>
                            <div class="hangman-stat-value" id="wrong">0</div>
                        </div>
                    </div>
                    <div class="hangman-letters-grid" id="letters"></div>
                    <div style="display: flex; gap: 10px; margin-top: 20px; flex-wrap: wrap;">
                        <button class="hangman-btn" id="hintBtn">ğŸ’¡ ØªÙ„Ù…ÙŠØ­</button>
                        <button class="hangman-btn hangman-btn-secondary" id="resetGameBtn">ğŸ”„ Ù„Ø¹Ø¨Ø© Ø¬Ø¯ÙŠØ¯Ø©</button>
                    </div>
                    <div id="gameMessage"
                        style="margin-top: 20px; font-size: 18px; font-weight: 700; text-align: center;"></div>
                </div>

                <!-- Ø¨Ù†Ùƒ Ø§Ù„Ø£Ø³Ø¦Ù„Ø© -->
                <div id="questions" class="hangman-section">
                    <h2 style="color: white; margin-bottom: 20px;">â“ Ø¨Ù†Ùƒ Ø§Ù„Ø£Ø³Ø¦Ù„Ø©</h2>
                    <div style="display: flex; gap: 10px; margin-bottom: 20px; flex-wrap: wrap;">
                        <button class="hangman-btn" data-page="addquestion">â• Ø¥Ø¶Ø§ÙØ© Ø³Ø¤Ø§Ù„</button>
                        <button class="hangman-btn hangman-btn-secondary" id="exportBtn">ğŸ“¥ ØªØµØ¯ÙŠØ±</button>
                    </div>
                    <div style="overflow-x: auto;">
                        <table class="hangman-table">
                            <thead>
                                <tr>
                                    <th>#</th>
                                    <th>Ø§Ù„ÙƒÙ„Ù…Ø©</th>
                                    <th>Ø§Ù„ÙØ¦Ø©</th>
                                    <th>Ø§Ù„ØµØ¹ÙˆØ¨Ø©</th>
                                    <th>Ø§Ù„ØªÙ„Ù…ÙŠØ­</th>
                                    <th>Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª</th>
                                </tr>
                            </thead>
                            <tbody id="questionsTable"></tbody>
                        </table>
                    </div>
                </div>

                <!-- Ø¥Ø¶Ø§ÙØ© Ø³Ø¤Ø§Ù„ -->
                <div id="addquestion" class="hangman-section">
                    <h2 style="color: white; margin-bottom: 20px;">â• Ø¥Ø¶Ø§ÙØ© Ø³Ø¤Ø§Ù„ Ø¬Ø¯ÙŠØ¯</h2>
                    <form id="addQuestionForm">
                        <div class="hangman-form-group">
                            <label>Ø§Ù„ÙƒÙ„Ù…Ø© *</label>
                            <input type="text" id="newWord" placeholder="Ù…Ø«Ø§Ù„: Ø§Ù„Ù…Ø®Ø·ÙˆØ·" required>
                        </div>
                        <div class="hangman-form-row">
                            <div class="hangman-form-group">
                                <label>Ø§Ù„ÙØ¦Ø©</label>
                                <select id="newCategory" required>
                                    <option value="">Ø§Ø®ØªØ± Ø§Ù„ÙØ¦Ø©</option>
                                    <option value="ØªØ¹Ø±ÙŠÙØ§Øª">ØªØ¹Ø±ÙŠÙØ§Øª</option>
                                    <option value="Ù…ÙˆØ§Ø¯">Ù…ÙˆØ§Ø¯</option>
                                    <option value="Ø£Ø¯ÙˆØ§Øª">Ø£Ø¯ÙˆØ§Øª</option>
                                    <option value="Ø§Ù„ØªØ·ÙˆØ±">Ø§Ù„ØªØ·ÙˆØ± Ø§Ù„ØªØ§Ø±ÙŠØ®ÙŠ</option>
                                    <option value="Ø§Ù„ØªØ£Ù„ÙŠÙ">Ø§Ù„ØªØ£Ù„ÙŠÙ ÙˆØ§Ù„Ù†Ø³Ø®</option>
                                    <option value="Ø£Ø®Ø·Ø§Ø¡">Ø£Ø®Ø·Ø§Ø¡ Ø§Ù„Ù†Ù‚Ù„</option>
                                    <option value="Ø§Ù„ØªØ­Ù‚ÙŠÙ‚">ØªØ­Ù‚ÙŠÙ‚ Ø§Ù„Ù…Ø®Ø·ÙˆØ·Ø§Øª</option>
                                    <option value="Ø£Ø¬Ø²Ø§Ø¡">Ø£Ø¬Ø²Ø§Ø¡ Ø§Ù„Ù…Ø®Ø·ÙˆØ·</option>
                                    <option value="Ø§Ù„ÙÙ‡Ø±Ø³Ø©">Ø§Ù„ÙÙ‡Ø±Ø³Ø©</option>
                                    <option value="Ø§Ù„Ø±ÙˆØ§ÙŠØ©">Ø§Ù„Ø±ÙˆØ§ÙŠØ©</option>
                                    <option value="Ø§Ù„Ø­Ø±ÙØ©">Ø§Ù„Ø­Ø±ÙØ©</option>
                                    <option value="Ø§Ù„Ø£Ø´Ø®Ø§Øµ">Ø§Ù„Ø£Ø´Ø®Ø§Øµ</option>
                                </select>
                            </div>
                            <div class="hangman-form-group">
                                <label>Ø§Ù„ØµØ¹ÙˆØ¨Ø©</label>
                                <select id="newDifficulty" required>
                                    <option value="">Ø§Ø®ØªØ± Ø§Ù„ØµØ¹ÙˆØ¨Ø©</option>
                                    <option value="easy">Ø³Ù‡Ù„</option>
                                    <option value="medium">Ù…ØªÙˆØ³Ø·</option>
                                    <option value="hard">ØµØ¹Ø¨</option>
                                </select>
                            </div>
                        </div>
                        <div class="hangman-form-group">
                            <label>Ø§Ù„ØªÙ„Ù…ÙŠØ­ *</label>
                            <textarea id="newHint" rows="3" placeholder="ØªÙ„Ù…ÙŠØ­ Ù…Ø³Ø§Ø¹Ø¯ Ù„Ù„ÙƒÙ„Ù…Ø©" required></textarea>
                        </div>
                        <button type="submit" class="hangman-btn">âœ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø³Ø¤Ø§Ù„</button>
                    </form>
                </div>

                <!-- Ø§Ù„Ù†ØªØ§Ø¦Ø¬ -->
                <div id="results" class="hangman-section">
                    <h2 style="color: white; margin-bottom: 20px;">ğŸ“ˆ Ø§Ù„Ù†ØªØ§Ø¦Ø¬ ÙˆØ§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª</h2>
                    <div class="hangman-stats-grid">
                        <div class="hangman-stat-card">
                            <div class="hangman-stat-label">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø¬ÙˆÙ„Ø§Øª</div>
                            <div class="hangman-stat-value" id="statsTotal">0</div>
                        </div>
                        <div class="hangman-stat-card">
                            <div class="hangman-stat-label">Ø§Ù„Ø¬ÙˆÙ„Ø§Øª Ø§Ù„Ø±Ø§Ø¨Ø­Ø©</div>
                            <div class="hangman-stat-value" id="statsWon">0</div>
                        </div>
                        <div class="hangman-stat-card">
                            <div class="hangman-stat-label">Ø§Ù„Ø¬ÙˆÙ„Ø§Øª Ø§Ù„Ø®Ø§Ø³Ø±Ø©</div>
                            <div class="hangman-stat-value" id="statsLost">0</div>
                        </div>
                    </div>
                    <div style="overflow-x: auto;">
                        <table class="hangman-table">
                            <thead>
                                <tr>
                                    <th>#</th>
                                    <th>Ø§Ù„ÙƒÙ„Ù…Ø©</th>
                                    <th>Ø§Ù„Ù†ØªÙŠØ¬Ø©</th>
                                    <th>Ø§Ù„Ø£Ø®Ø·Ø§Ø¡</th>
                                    <th>Ø§Ù„ÙˆÙ‚Øª</th>
                                </tr>
                            </thead>
                            <tbody id="historyTable"></tbody>
                        </table>
                    </div>
                    <button class="hangman-btn hangman-btn-danger" id="clearHistoryBtn" style="margin-top: 20px;">ğŸ—‘ï¸
                        Ù…Ø³Ø­ Ø§Ù„Ø³Ø¬Ù„</button>
                </div>

                <!-- Ù…Ø­ØªÙˆÙ‰ Ø§Ù„Ù…Ø§Ø¯Ø© -->
                <div id="content" class="hangman-section">
                    <h2 style="color: white; margin-bottom: 20px;">ğŸ“– Ù…Ø­ØªÙˆÙ‰ Ù…Ø§Ø¯Ø© Ø§Ù„Ù…Ø®Ø·ÙˆØ·Ø§Øª</h2>
                    <div id="contentContainer"></div>
                </div>
            </div>
        </div>
    </div>

    <footer>
        <div class="footer-inner">
            <div>Â© 2026 MaktabaPlay â€“ Ù…Ù†ØµØ© Ø£Ù„Ø¹Ø§Ø¨ Ù…ÙƒØªØ¨ÙŠØ© Ø¹Ø±Ø¨ÙŠØ©</div>
            <div><a href="contact.html">Ø§ØªØµÙ„ Ø¨Ù†Ø§</a> Â· <a href="partners.html">Ø´Ø±Ø§ÙƒØ§Øª</a></div>
        </div>
    </footer>

    <!-- Ù…ÙˆØ¯Ø§Ù„ Ø§Ù„ØªØ£ÙƒÙŠØ¯ -->
    <div id="confirmModal" class="hangman-modal">
        <div class="hangman-modal-content">
            <h3 style="color: white;" id="confirmTitle">ØªØ£ÙƒÙŠØ¯</h3>
            <p style="color: var(--muted); margin: 15px 0;" id="confirmMessage"></p>
            <div style="display: flex; gap: 10px;">
                <button class="hangman-btn" id="confirmBtn">ØªØ£ÙƒÙŠØ¯</button>
                <button class="hangman-btn hangman-btn-secondary" onclick="closeModal()">Ø¥Ù„ØºØ§Ø¡</button>
            </div>
        </div>
    </div>

    <script>
        (function () {
            "use strict";

            // ========== Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø£ÙˆÙ„ÙŠØ© ==========
            let data = {
                questions: [
                    { word: 'Ø§Ù„Ù…Ø®Ø·ÙˆØ·', category: 'ØªØ¹Ø±ÙŠÙØ§Øª', difficulty: 'easy', hint: 'ÙƒØªØ§Ø¨ Ù…ÙƒØªÙˆØ¨ Ø¨Ø§Ù„ÙŠØ¯ Ù‚Ø¨Ù„ Ø§Ù„Ø·Ø¨Ø§Ø¹Ø©' },
                    { word: 'Ø§Ù„ÙˆØ±Ù‚', category: 'Ù…ÙˆØ§Ø¯', difficulty: 'easy', hint: 'ÙˆØ¹Ø§Ø¡ ÙŠÙÙƒØªØ¨ Ø¹Ù„ÙŠÙ‡ - Ø§Ù„ÙƒØ§ØºØ¯' },
                    { word: 'Ø§Ù„ØªØ¬Ù„ÙŠØ¯', category: 'Ø£Ø¯ÙˆØ§Øª', difficulty: 'medium', hint: 'Ø±Ø¨Ø· Ø£ÙˆØ±Ø§Ù‚ Ø§Ù„Ù…Ø®Ø·ÙˆØ· Ù…Ø¹Ø§Ù‹' },
                    { word: 'Ø§Ù„Ù†Ø§Ø³Ø®', category: 'Ø§Ù„Ø£Ø´Ø®Ø§Øµ', difficulty: 'easy', hint: 'Ù…Ù† ÙŠÙ†Ù‚Ù„ Ø§Ù„Ù…Ø®Ø·ÙˆØ· Ø¨Ø®Ø· Ø§Ù„ÙŠØ¯' },
                    { word: 'Ø§Ù„Ø­Ø¨Ø±', category: 'Ù…ÙˆØ§Ø¯', difficulty: 'easy', hint: 'Ø³Ø§Ø¦Ù„ ÙŠÙØ³ØªØ®Ø¯Ù… Ù„Ù„ÙƒØªØ§Ø¨Ø©' },
                    { word: 'Ø§Ù„Ø¨Ø±Ø¯ÙŠ', category: 'Ù…ÙˆØ§Ø¯', difficulty: 'medium', hint: 'ÙˆØ¹Ø§Ø¡ Ù‚Ø¯ÙŠÙ… Ø¹Ù„Ù‰ Ø´ÙƒÙ„ Ù„ÙØ§Ø¦Ù' },
                    { word: 'Ø§Ù„Ø±Ù‚', category: 'Ù…ÙˆØ§Ø¯', difficulty: 'medium', hint: 'Ø¬Ù„Ø¯ Ø­ÙŠÙˆØ§Ù† ÙŠÙØ³ØªØ®Ø¯Ù… Ù„Ù„ÙƒØªØ§Ø¨Ø©' },
                    { word: 'Ø§Ù„ØªØµØ­ÙŠÙ', category: 'Ø£Ø®Ø·Ø§Ø¡', difficulty: 'hard', hint: 'Ø®Ø·Ø£ ÙÙŠ Ù†Ù‚Ø· Ø§Ù„Ø­Ø±ÙˆÙ' },
                    { word: 'Ø§Ù„ØªØ­Ø±ÙŠÙ', category: 'Ø£Ø®Ø·Ø§Ø¡', difficulty: 'hard', hint: 'Ø®Ø·Ø£ ÙÙŠ Ø¨Ù†ÙŠØ© Ø§Ù„ÙƒÙ„Ù…Ø©' },
                    { word: 'Ø§Ù„Ø­Ø§Ø´ÙŠØ©', category: 'Ø£Ø¬Ø²Ø§Ø¡', difficulty: 'medium', hint: 'ØªØ¹Ù„ÙŠÙ‚ Ø¹Ù„Ù‰ Ø¬Ø§Ù†Ø¨ Ø§Ù„ØµÙØ­Ø©' },
                    { word: 'Ø§Ù„ÙƒÙˆÙ„ÙˆÙÙˆÙ†', category: 'Ø£Ø¬Ø²Ø§Ø¡', difficulty: 'hard', hint: 'Ù…Ø¹Ù„ÙˆÙ…Ø§Øª ÙÙŠ Ù†Ù‡Ø§ÙŠØ© Ø§Ù„Ù…Ø®Ø·ÙˆØ·' },
                    { word: 'Ø§Ù„ÙˆØ±Ø§Ù‚Ø©', category: 'Ø§Ù„Ø­Ø±ÙØ©', difficulty: 'hard', hint: 'Ø­Ø±ÙØ© Ø§Ù„Ù†Ø³Ø® ÙˆØ§Ù„ØªØµØ­ÙŠØ­ ÙˆØ§Ù„ØªØ¬Ù„ÙŠØ¯' },
                    { word: 'Ø§Ù„ÙÙ‡Ø±Ø³Ø©', category: 'Ø§Ù„ÙÙ‡Ø±Ø³Ø©', difficulty: 'hard', hint: 'ÙˆØµÙ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø®Ø·ÙˆØ· Ø§Ù„Ø¨Ø¨Ù„ÙŠÙˆØºØ±Ø§ÙÙŠØ©' },
                    { word: 'Ø§Ù„Ø§Ù†ØªØ­Ø§Ù„', category: 'Ø£Ø®Ø·Ø§Ø¡', difficulty: 'hard', hint: 'Ù†Ø³Ø¨Ø© Ø§Ù„ÙƒØªØ§Ø¨ Ù„ØºÙŠØ± ØµØ§Ø­Ø¨Ù‡' },
                    { word: 'Ø§Ù„Ø³Ù…Ø§Ø¹', category: 'Ø§Ù„Ø±ÙˆØ§ÙŠØ©', difficulty: 'medium', hint: 'Ø³Ù…Ø§Ø¹ Ø§Ù„Ù…ØªÙ† Ù…Ù† Ø§Ù„Ù…Ø¤Ù„Ù' },
                    { word: 'Ø§Ù„Ù…Ø³ÙˆØ¯Ø©', category: 'Ø§Ù„ØªØ£Ù„ÙŠÙ', difficulty: 'easy', hint: 'Ø§Ù„Ù†Ø³Ø®Ø© Ø§Ù„Ø£ÙˆÙ„ÙŠØ© Ù„Ù„ÙƒØªØ§Ø¨' },
                    { word: 'Ø§Ù„Ù…Ø¨ÙŠØ¶Ø©', category: 'Ø§Ù„ØªØ£Ù„ÙŠÙ', difficulty: 'medium', hint: 'Ø§Ù„Ù†Ø³Ø®Ø© Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ© ÙˆØ§Ù„Ù…Ù†Ù‚Ø­Ø©' },
                    { word: 'Ø§Ù„Ø¥Ø¹Ø¬Ø§Ù…', category: 'Ø§Ù„ØªØ·ÙˆØ±', difficulty: 'hard', hint: 'Ù†Ù‚Ø· Ø§Ù„Ø­Ø±ÙˆÙ Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© Ø§Ù„Ù…ØªØ´Ø§Ø¨Ù‡Ø©' },
                    { word: 'Ø§Ù„Ø¥Ø¹Ø±Ø§Ø¨', category: 'Ø§Ù„ØªØ·ÙˆØ±', difficulty: 'hard', hint: 'Ø¹Ù„Ø§Ù…Ø§Øª Ø§Ù„Ø´ÙƒÙ„ Ø¹Ù„Ù‰ Ø§Ù„ÙƒÙ„Ù…Ø§Øª' },
                    { word: 'Ø§Ù„Ø¹ÙØµ', category: 'Ù…ÙˆØ§Ø¯', difficulty: 'hard', hint: 'Ù…Ø§Ø¯Ø© ØªØ¯Ø®Ù„ ÙÙŠ ØµÙ†Ø§Ø¹Ø© Ø§Ù„Ø­Ø¨Ø±' }
                ],
                gameHistory: [],
                stats: { gamesPlayed: 0, gamesWon: 0 }
            };

            // Ù…Ø±Ø§Ø­Ù„ Ø§Ù„Ø±Ø³Ù… (pixel art)
            const pixelStages = [
                'â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ\nâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–ˆ\nâ–ˆâ–‘ Ù…ÙƒØªØ¨Ø© Ø³Ù„ÙŠÙ…Ø©  â–‘â–ˆ\nâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–ˆ\nâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ',
                'â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ\nâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–ˆ\nâ–ˆâ–‘  âš ï¸ ØªØ­Ø°ÙŠØ±    â–‘â–ˆ\nâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–ˆ\nâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ\n        |',
                'â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ\nâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–ˆ\nâ–ˆâ–‘ âš ï¸ âš ï¸ ØªØ­Ø°ÙŠØ±   â–‘â–ˆ\nâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–ˆ\nâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ\n        |\n        O',
                'â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ\nâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–ˆ\nâ–ˆâ–‘  âš ï¸ âš ï¸ Ø®Ø·Ø±!   â–‘â–ˆ\nâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–ˆ\nâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ\n        |\n        O\n        |',
                'â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ\nâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–ˆ\nâ–ˆâ–‘ Ø®Ø·Ø±! ğŸ”¥ ğŸ”¥    â–‘â–ˆ\nâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–ˆ\nâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ\n        |\n        O\n       /|',
                'â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ\nâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–ˆ\nâ–ˆâ–‘Ø®Ø·Ø±! ğŸ”¥ ğŸ”¥ ğŸ”¥  â–‘â–ˆ\nâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–ˆ\nâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ\n        |\n        O\n       /|\\',
                'â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ\nâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–ˆ\nâ–ˆâ–‘ Ø§Ù„Ø£Ø±Ø´ÙŠÙ ğŸ’€ğŸ’€  â–‘â–ˆ\nâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–ˆ\nâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ\n        |\n        O\n       /|\\\n       / \\'
            ];

            const arabicLetters = 'Ø£Ø§Ø¨ØªØ«Ø¬Ø­Ø®Ø¯Ø°Ø±Ø²Ø³Ø´ØµØ¶Ø·Ø¸Ø¹ØºÙÙ‚ÙƒÙ„Ù…Ù†Ù‡ÙˆÙŠ'.split('');

            const contentData = `
                <div class="content-section">
                    <h3>Ø£ÙˆÙ„Ø§Ù‹: Ù…ÙØ§Ù‡ÙŠÙ… Ø£Ø³Ø§Ø³ÙŠØ© ÙˆØ¹Ù„Ù… Ø§Ù„Ù…Ø®Ø·ÙˆØ·Ø§Øª</h3>
                    <p><strong>ØªØ¹Ø±ÙŠÙ Ø§Ù„Ù…Ø®Ø·ÙˆØ· Ø§Ù„Ø¹Ø±Ø¨ÙŠ:</strong> Ù‡Ùˆ ÙƒÙ„ ÙƒØªØ§Ø¨ Ø£ÙÙ„ÙÙ‘Ù Ø¨Ø§Ù„Ù„ØºØ© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©ØŒ Ø³ÙˆØ§Ø¡ ÙƒØ§Ù† Ù…Ø¤Ù„ÙÙ‡ Ø¹Ø±Ø¨ÙŠØ§Ù‹ Ø£Ù… Ø£Ø¹Ø¬Ù…ÙŠØ§Ù‹ØŒ ÙˆØ³ÙˆØ§Ø¡ Ù†ÙØ´Ø± Ø¯Ø§Ø®Ù„ Ø´Ø¨Ù‡ Ø§Ù„Ø¬Ø²ÙŠØ±Ø© Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© Ø£Ù… Ø®Ø§Ø±Ø¬Ù‡Ø§ØŒ ÙˆÙƒÙØªØ¨ Ø¨Ø®Ø· Ø§Ù„ÙŠØ¯ Ù‚Ø¨Ù„ Ø¸Ù‡ÙˆØ± Ø§Ù„Ø·Ø¨Ø§Ø¹Ø©.</p>
                    <p><strong>Ø¹Ù„Ù… Ø§Ù„Ù…Ø®Ø·ÙˆØ·Ø§Øª (Codicology):</strong> Ù‡Ùˆ Ø§Ù„Ø¹Ù„Ù… Ø§Ù„Ø°ÙŠ ÙŠØ¯Ø±Ø³ Ø§Ù„Ù…Ø®Ø·ÙˆØ· ÙƒÙˆØ¹Ø§Ø¡ Ù…Ø§Ø¯ÙŠ ÙˆØªØ§Ø±ÙŠØ®ÙŠ ÙˆÙÙ†ÙŠ (Ø¯Ø±Ø§Ø³Ø© Ø§Ù„ÙˆØ±Ù‚ØŒ Ø§Ù„Ø­Ø¨Ø±ØŒ Ø§Ù„ØªØ¬Ù„ÙŠØ¯ØŒ ÙˆØ§Ù„Ø²Ø®Ø±ÙØ©)ØŒ ÙˆÙ„Ø§ ÙŠØªÙ†Ø§ÙˆÙ„ Ø§Ù„Ù…ØªÙ† Ø£Ùˆ Ø§Ù„Ù†Øµ Ø¨Ø§Ù„Ø¯Ø±Ø§Ø³Ø©.</p>
                </div>
                <div class="content-section">
                    <h3>Ø«Ø§Ù†ÙŠØ§Ù‹: Ø§Ù„ØªØ·ÙˆØ± Ø§Ù„ØªØ§Ø±ÙŠØ®ÙŠ Ù„Ù„ÙƒØªØ§Ø¨Ø© ÙˆØ§Ù„ØªØ¯ÙˆÙŠÙ†</h3>
                    <p><strong>Ø§Ù„Ø¹ØµØ± Ø§Ù„Ø¬Ø§Ù‡Ù„ÙŠ ÙˆØµØ¯Ø± Ø§Ù„Ø¥Ø³Ù„Ø§Ù…:</strong> Ø¹Ø±Ù Ø§Ù„Ø¹Ø±Ø¨ Ø§Ù„ÙƒØªØ§Ø¨Ø© ÙˆØ§Ø³ØªØ®Ø¯Ù…ÙˆØ§ Ù…ÙˆØ§Ø¯ Ø£ÙˆÙ„ÙŠØ© Ù…Ø«Ù„ Ø§Ù„Ù„Ø®Ø§Ù (Ø­Ø¬Ø§Ø±Ø©)ØŒ Ø§Ù„Ø¹Ø³ÙŠØ¨ ÙˆØ§Ù„ÙƒØ±Ø§Ù†ÙŠÙ (Ù†Ø®Ù„)ØŒ ÙˆØ¹Ø¸Ø§Ù… Ø§Ù„Ø­ÙŠÙˆØ§Ù†Ø§Øª.</p>
                    <p><strong>Ø¬Ù…Ø¹ Ø§Ù„Ù‚Ø±Ø¢Ù† Ø§Ù„ÙƒØ±ÙŠÙ…:</strong> Ø¨Ø¯Ø£Øª Ù…Ø±Ø§Ø­Ù„ Ø§Ù„ØªØ¯ÙˆÙŠÙ† Ø§Ù„ÙƒØ¨Ø±Ù‰ Ø¨Ø¬Ù…Ø¹ Ø§Ù„Ù‚Ø±Ø¢Ù† ÙÙŠ Ø¹Ù‡Ø¯ Ø¹Ù…Ø± Ø¨Ù† Ø§Ù„Ø®Ø·Ø§Ø¨ ÙˆØ²ÙŠØ¯ Ø¨Ù† Ø«Ø§Ø¨Øª.</p>
                </div>
            `;

            // ========== Ø¹Ù†Ø§ØµØ± DOM ==========
            const sections = document.querySelectorAll('.hangman-section');
            const navItems = document.querySelectorAll('.hangman-nav-item');
            const dashboardTotalQuestions = document.getElementById('totalQuestions');
            const dashboardGamesPlayed = document.getElementById('gamesPlayed');
            const dashboardGamesWon = document.getElementById('gamesWon');
            const dashboardWinRate = document.getElementById('winRate');
            const questionsTable = document.getElementById('questionsTable');
            const historyTable = document.getElementById('historyTable');
            const statsTotal = document.getElementById('statsTotal');
            const statsWon = document.getElementById('statsWon');
            const statsLost = document.getElementById('statsLost');
            const contentContainer = document.getElementById('contentContainer');
            const confirmModal = document.getElementById('confirmModal');
            const confirmTitle = document.getElementById('confirmTitle');
            const confirmMessage = document.getElementById('confirmMessage');
            const confirmBtn = document.getElementById('confirmBtn');
            const addQuestionForm = document.getElementById('addQuestionForm');
            const newWord = document.getElementById('newWord');
            const newCategory = document.getElementById('newCategory');
            const newDifficulty = document.getElementById('newDifficulty');
            const newHint = document.getElementById('newHint');
            const exportBtn = document.getElementById('exportBtn');
            const clearHistoryBtn = document.getElementById('clearHistoryBtn');
            const hintBtn = document.getElementById('hintBtn');
            const resetGameBtn = document.getElementById('resetGameBtn');

            // Ø¹Ù†Ø§ØµØ± Ø§Ù„Ù„Ø¹Ø¨Ø©
            const drawingEl = document.getElementById('drawing');
            const wordEl = document.getElementById('word');
            const gameCategoryEl = document.getElementById('gameCategory');
            const remainingEl = document.getElementById('remaining');
            const wrongEl = document.getElementById('wrong');
            const lettersContainer = document.getElementById('letters');
            const gameMessageEl = document.getElementById('gameMessage');

            // ========== Ø¯ÙˆØ§Ù„ Ù…Ø³Ø§Ø¹Ø¯Ø© ==========
            function showPage(pageId) {
                sections.forEach(s => s.classList.remove('active'));
                document.getElementById(pageId).classList.add('active');
                navItems.forEach(item => item.classList.remove('active'));
                const activeNav = Array.from(navItems).find(item => item.dataset.page === pageId);
                if (activeNav) activeNav.classList.add('active');

                if (pageId === 'questions') renderQuestionsTable();
                else if (pageId === 'results') updateStats();
                else if (pageId === 'content') contentContainer.innerHTML = contentData;
            }

            function closeModal() {
                confirmModal.classList.remove('show');
            }

            function getDifficultyText(diff) {
                const map = { easy: 'Ø³Ù‡Ù„', medium: 'Ù…ØªÙˆØ³Ø·', hard: 'ØµØ¹Ø¨' };
                return map[diff] || '-';
            }

            function renderQuestionsTable() {
                if (!questionsTable) return;
                if (data.questions.length === 0) {
                    questionsTable.innerHTML = '<tr><td colspan="6" style="text-align: center; color: var(--muted);">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø£Ø³Ø¦Ù„Ø©</td></tr>';
                    return;
                }
                questionsTable.innerHTML = data.questions.map((q, i) => `
                    <tr>
                        <td>${i + 1}</td>
                        <td><strong style="color:white;">${q.word}</strong></td>
                        <td><span class="difficulty-badge" style="background:rgba(6,182,212,0.1); color:var(--brand-2);">${q.category}</span></td>
                        <td><span class="difficulty ${q.difficulty}">${getDifficultyText(q.difficulty)}</span></td>
                        <td>${q.hint}</td>
                        <td><button class="hangman-btn hangman-btn-secondary" style="padding:6px 12px;" data-index="${i}">ğŸ—‘ï¸</button></td>
                    </tr>
                `).join('');

                // Ø¥Ø¶Ø§ÙØ© event listeners Ù„Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ø­Ø°Ù
                document.querySelectorAll('#questionsTable button[data-index]').forEach(btn => {
                    btn.addEventListener('click', function () {
                        const index = parseInt(this.dataset.index);
                        deleteQuestion(index);
                    });
                });
            }

            function deleteQuestion(index) {
                confirmTitle.textContent = 'ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø­Ø°Ù';
                confirmMessage.textContent = `Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù "${data.questions[index].word}"ØŸ`;
                confirmBtn.onclick = () => {
                    data.questions.splice(index, 1);
                    closeModal();
                    renderQuestionsTable();
                    updateDashboard();
                };
                confirmModal.classList.add('show');
            }

            function addQuestion(event) {
                event.preventDefault();
                const word = newWord.value.trim();
                const category = newCategory.value;
                const difficulty = newDifficulty.value;
                const hint = newHint.value.trim();
                if (!word || !category || !difficulty || !hint) {
                    alert('âš ï¸ Ø§Ù„Ø±Ø¬Ø§Ø¡ Ù…Ù„Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ„');
                    return;
                }
                data.questions.push({ word, category, difficulty, hint });
                newWord.value = '';
                newCategory.value = '';
                newDifficulty.value = '';
                newHint.value = '';
                alert('âœ… ØªÙ…Øª Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø³Ø¤Ø§Ù„ Ø¨Ù†Ø¬Ø§Ø­');
                updateDashboard();
            }

            function exportQuestions() {
                if (data.questions.length === 0) {
                    alert('Ù„Ø§ ØªÙˆØ¬Ø¯ Ø£Ø³Ø¦Ù„Ø© Ù„Ù„ØªØµØ¯ÙŠØ±');
                    return;
                }
                const csv = 'Ø§Ù„ÙƒÙ„Ù…Ø©,Ø§Ù„ÙØ¦Ø©,Ø§Ù„ØµØ¹ÙˆØ¨Ø©,Ø§Ù„ØªÙ„Ù…ÙŠØ­\n' +
                    data.questions.map(q => `"${q.word}","${q.category}","${getDifficultyText(q.difficulty)}","${q.hint}"`).join('\n');
                const blob = new Blob([csv], { type: 'text/csv;charset=utf-8;' });
                const link = document.createElement('a');
                link.href = URL.createObjectURL(blob);
                link.download = 'questions.csv';
                link.click();
            }

            function updateDashboard() {
                if (dashboardTotalQuestions) dashboardTotalQuestions.textContent = data.questions.length;
                if (dashboardGamesPlayed) dashboardGamesPlayed.textContent = data.stats.gamesPlayed;
                if (dashboardGamesWon) dashboardGamesWon.textContent = data.stats.gamesWon;
                const rate = data.stats.gamesPlayed ? Math.round((data.stats.gamesWon / data.stats.gamesPlayed) * 100) : 0;
                if (dashboardWinRate) dashboardWinRate.textContent = rate + '%';
            }

            function updateStats() {
                if (statsTotal) statsTotal.textContent = data.stats.gamesPlayed;
                if (statsWon) statsWon.textContent = data.stats.gamesWon;
                if (statsLost) statsLost.textContent = data.stats.gamesPlayed - data.stats.gamesWon;

                if (historyTable) {
                    if (data.gameHistory.length === 0) {
                        historyTable.innerHTML = '<tr><td colspan="5" style="text-align: center; color: var(--muted);">Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¬ÙˆÙ„Ø§Øª Ø¨Ø¹Ø¯</td></tr>';
                    } else {
                        historyTable.innerHTML = data.gameHistory.slice().reverse().map((h, i) => `
                            <tr>
                                <td>${i + 1}</td>
                                <td>${h.word}</td>
                                <td>${h.won ? 'âœ…' : 'âŒ'}</td>
                                <td>${h.errors}</td>
                                <td>${h.time}</td>
                            </tr>
                        `).join('');
                    }
                }
            }

            function clearHistory() {
                if (confirm('Ù‡Ù„ ØªØ±ÙŠØ¯ Ù…Ø³Ø­ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø³Ø¬Ù„Ø§ØªØŸ')) {
                    data.gameHistory = [];
                    data.stats = { gamesPlayed: 0, gamesWon: 0 };
                    updateStats();
                    updateDashboard();
                }
            }

            // ========== ÙƒØ§Ø¦Ù† Ø§Ù„Ù„Ø¹Ø¨Ø© ==========
            class HangmanGame {
                constructor() {
                    this.reset();
                }

                reset() {
                    if (data.questions.length === 0) {
                        alert('âš ï¸ Ù„Ø§ ØªÙˆØ¬Ø¯ Ø£Ø³Ø¦Ù„Ø©! Ø£Ø¶Ù Ø£Ø³Ø¦Ù„Ø© Ø£ÙˆÙ„Ø§Ù‹.');
                        return;
                    }
                    this.currentQuestion = data.questions[Math.floor(Math.random() * data.questions.length)];
                    this.word = this.currentQuestion.word;
                    this.guessedLetters = new Set();
                    this.wrongGuesses = new Set();
                    this.gameOver = false;
                    this.won = false;
                    this.startTime = Date.now();
                    this.render();
                }

                guess(letter) {
                    if (this.gameOver || this.guessedLetters.has(letter)) return;
                    this.guessedLetters.add(letter);
                    if (!this.word.includes(letter)) this.wrongGuesses.add(letter);
                    this.checkGameState();
                    this.render();
                }

                checkGameState() {
                    const isWon = this.word.split('').every(l => this.guessedLetters.has(l));
                    const isLost = this.wrongGuesses.size >= 6;
                    if (isWon || isLost) {
                        this.gameOver = true;
                        this.won = isWon;
                        this.recordGame();
                    }
                }

                recordGame() {
                    data.gameHistory.push({
                        word: this.word,
                        won: this.won,
                        errors: this.wrongGuesses.size,
                        time: new Date().toLocaleTimeString('ar-EG')
                    });
                    data.stats.gamesPlayed++;
                    if (this.won) data.stats.gamesWon++;
                    updateDashboard();
                }

                hint() {
                    alert(`ğŸ’¡ ØªÙ„Ù…ÙŠØ­: ${this.currentQuestion.hint}`);
                }

                render() {
                    if (!drawingEl || !wordEl || !gameCategoryEl || !remainingEl || !wrongEl || !lettersContainer) return;

                    const stage = Math.min(this.wrongGuesses.size, pixelStages.length - 1);
                    drawingEl.textContent = pixelStages[stage];

                    const display = this.word.split('').map(l => this.guessedLetters.has(l) ? l : '_').join(' ');
                    wordEl.textContent = display;

                    gameCategoryEl.textContent = this.currentQuestion.category;
                    remainingEl.textContent = 6 - this.wrongGuesses.size;
                    wrongEl.textContent = this.wrongGuesses.size;

                    if (this.gameOver) {
                        gameMessageEl.innerHTML = this.won ? 'âœ… Ù†Ø¬Ø­Øª! Ù„Ù‚Ø¯ ÙˆØ¬Ø¯Øª Ø§Ù„Ù…Ø®Ø·ÙˆØ·!' : `âŒ Ø®Ø³Ø±Øª! Ø§Ù„ÙƒÙ„Ù…Ø© Ø§Ù„ØµØ­ÙŠØ­Ø©: <strong style="color:var(--warning);">${this.word}</strong>`;
                        gameMessageEl.style.color = this.won ? 'var(--success)' : 'var(--danger)';
                    } else {
                        gameMessageEl.textContent = '';
                    }

                    this.renderLetters();
                }

                renderLetters() {
                    lettersContainer.innerHTML = '';
                    arabicLetters.forEach(letter => {
                        const btn = document.createElement('button');
                        btn.textContent = letter;
                        btn.className = 'hangman-letter-btn';
                        btn.disabled = this.guessedLetters.has(letter) || this.wrongGuesses.has(letter) || this.gameOver;
                        btn.addEventListener('click', () => this.guess(letter));
                        lettersContainer.appendChild(btn);
                    });
                }
            }

            // Ø¥Ù†Ø´Ø§Ø¡ ÙƒØ§Ø¦Ù† Ø§Ù„Ù„Ø¹Ø¨Ø©
            const game = new HangmanGame();

            // ========== Ø±Ø¨Ø· Ø§Ù„Ø£Ø­Ø¯Ø§Ø« ==========
            // Ø§Ù„ØªÙ†Ù‚Ù„ Ø¨ÙŠÙ† Ø§Ù„ØµÙØ­Ø§Øª
            navItems.forEach(item => {
                item.addEventListener('click', function () {
                    const page = this.dataset.page;
                    if (page) showPage(page);
                });
            });

            // Ø£Ø²Ø±Ø§Ø± Ø§Ù„ØªÙ†Ù‚Ù„ Ø§Ù„Ø¥Ø¶Ø§ÙÙŠØ© (Ù…Ø«Ù„ "Ø¹Ø±Ø¶ Ø§Ù„Ù…Ø­ØªÙˆÙ‰")
            document.querySelectorAll('button[data-page]').forEach(btn => {
                btn.addEventListener('click', function () {
                    const page = this.dataset.page;
                    if (page) showPage(page);
                });
            });

            // Ù†Ù…ÙˆØ°Ø¬ Ø¥Ø¶Ø§ÙØ© Ø³Ø¤Ø§Ù„
            if (addQuestionForm) {
                addQuestionForm.addEventListener('submit', addQuestion);
            }

            // Ø²Ø± Ø§Ù„ØªØµØ¯ÙŠØ±
            if (exportBtn) {
                exportBtn.addEventListener('click', exportQuestions);
            }

            // Ø²Ø± Ù…Ø³Ø­ Ø§Ù„Ø³Ø¬Ù„
            if (clearHistoryBtn) {
                clearHistoryBtn.addEventListener('click', clearHistory);
            }

            // Ø£Ø²Ø±Ø§Ø± Ø§Ù„Ù„Ø¹Ø¨Ø©
            if (hintBtn) {
                hintBtn.addEventListener('click', () => game.hint());
            }
            if (resetGameBtn) {
                resetGameBtn.addEventListener('click', () => game.reset());
            }

            // Ø¥ØºÙ„Ø§Ù‚ Ø§Ù„Ù…ÙˆØ¯Ø§Ù„
            window.closeModal = closeModal;

            // ØªÙ‡ÙŠØ¦Ø© Ø§Ù„Ù…Ø­ØªÙˆÙ‰
            updateDashboard();
            if (contentContainer) contentContainer.innerHTML = contentData;
            renderQuestionsTable();
        })();
    </script>
</body>

</html>